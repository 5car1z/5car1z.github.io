<!DOCTYPE html><html><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="Linux System Administration"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="alternative" href="atom.xml" title="C.J. Scarlett" type="application/atom+xml"><link rel="icon" href="/favicon.png"><title>Slack IRC Gateway Authentication with irssi - C.J. Scarlett</title><link rel="stylesheet" href="/css/main.css"><!--[if lt IE 9]><script>(function(a,b){a="abbr article aside audio bdi canvas data datalist details dialog figcaption figure footer header hgroup main mark meter nav output progress section summary template time video".split(" ");for(b=a.length-1;b>=0;b--)document.createElement(a[b])})()</script><![endif]--></head><body><header class="head"><h1 class="head-title u-fl"><a href="/">C.J. Scarlett</a></h1><nav class="head-nav u-fr"><ul class="head-nav__list"><li class="head-nav__item"><a href="/" class="head-nav__link">Home</a></li><li class="head-nav__item"><a href="/topics" class="head-nav__link">Topics</a></li><li class="head-nav__item"><a href="/archives" class="head-nav__link">Archives</a></li><li class="head-nav__item"><a href="/misc" class="head-nav__link">Misc</a></li><li class="head-nav__item"><a href="/about" class="head-nav__link">About</a></li><li class="head-nav__item"><a href="/contact" class="head-nav__link">Contact</a></li></ul></nav></header><main class="main"><article class="post"><header class="post__head"><time datetime="2015-09-09T23:00:00.000Z" class="post__time">September 10, 2015</time><h1 class="post__title"><a href="/2015/09/10/slack-irssi-connection/">Slack IRC Gateway Authentication with irssi</a></h1></header><div class="post__main echo"><p><img src="http://i.imgur.com/PVgdIPJ.png" alt="Slack Logo"></p>
<h1 id="Preamble"><a href="#Preamble" class="headerlink" title="Preamble"></a>Preamble</h1><p>Slack’s web interface isn’t too shabby, but at times it’s more preferable and easier to instead have a command line alternative. Also when working on a server or command line orientated environment, you might not have access to a web browser to login to Slack. So running an IRC client with access to the gateway provided, is the supported solution and remedy for this. The rest of this post shows one relatively straight forward way of using irssi IRC chat client to connect and authenticate with the gateway. </p>
<a id="more"></a>
<hr>
<h1 id="1-–-Enable-IRC-on-Slack-Team"><a href="#1-–-Enable-IRC-on-Slack-Team" class="headerlink" title="1 – Enable IRC on Slack Team"></a>1 – Enable IRC on Slack Team</h1><p>In the Slack team’s web browser session navigate to:</p>
<p><strong>Team settings &gt; Permissions &gt; Gateways &gt; Expand</strong></p>
<p>Tick “Enable IRC gateway (SSL only)” and then click Save Settings.</p>
<p><img src="http://i.imgur.com/1G1TH3u.png" alt="Slack Tick-boxes"></p>
<p>XMPP as pictured can also be enabled here for services such as <em>Jabber</em></p>
<hr>
<h1 id="2-–-Install-irssi"><a href="#2-–-Install-irssi" class="headerlink" title="2 – Install irssi"></a>2 – Install irssi</h1><h2 id="Arch-Linux"><a href="#Arch-Linux" class="headerlink" title="Arch Linux"></a>Arch Linux</h2><p>The simplest most accessible way is by using the system’s package manager:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo pacman -S irssi</span><br></pre></td></tr></table></figure>
<h2 id="Debian-Ubuntu"><a href="#Debian-Ubuntu" class="headerlink" title="Debian / Ubuntu"></a>Debian / Ubuntu</h2><p>The simplest most accessible way is by using the system’s package manager:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sudo apt-get install irssi</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="3-–-Run-irssi"><a href="#3-–-Run-irssi" class="headerlink" title="3 – Run irssi"></a>3 – Run irssi</h1><p>Here are two methods, either on its own:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ irssi</span><br></pre></td></tr></table></figure>
<p>Or in a screen session:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ screen -S irssi-irc-client irssi</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="4-–-Slack-Team-Gateway-Credentials"><a href="#4-–-Slack-Team-Gateway-Credentials" class="headerlink" title="4 – Slack Team Gateway Credentials"></a>4 – Slack Team Gateway Credentials</h1><p>Navigate to the new page that contains your team’s Slack gateway credentials.</p>
<p><strong>Account &amp; Profile &gt; Settings tab &gt; Gateways &gt; Gateway configuration</strong><br>Here are the details you need for the next few steps in order to setup IRC authentication to the Slack team.</p>
<p><img src="http://i.imgur.com/sabrQRA.png" alt="Slack Gateway Details"></p>
<p>Refer back to them as needed for these next steps.</p>
<hr>
<h1 id="5-–-Add-Slack-Network-Details"><a href="#5-–-Add-Slack-Network-Details" class="headerlink" title="5 – Add Slack Network Details"></a>5 – Add Slack Network Details</h1><p>Where <code>&lt;slack-username&gt;</code> is your Slack username, and <code>loy-slack</code> is the name you want the network to be remembered as.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/network add -nick &lt;slack-username&gt; loy-slack</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="6-–-Add-Slack-Server-Details"><a href="#6-–-Add-Slack-Server-Details" class="headerlink" title="6 – Add Slack Server Details"></a>6 – Add Slack Server Details</h1><p>Now add the server details to the network defined in the previous step, the command to do this comes next. Remember to replace <code>loy-slack</code> with the name you gave the network, and substitute the details from your Slack team’s IRC credentials into the command.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/server add -auto -ssl -network loy-slack &lt;slack-teamname&gt;.irc.slack.com 6667 &lt;slack-password&gt;</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="7-–-Save-Default-Slack-Channels"><a href="#7-–-Save-Default-Slack-Channels" class="headerlink" title="7 – Save Default Slack Channels"></a>7 – Save Default Slack Channels</h1><p>Entering this command will ensure irssi always joins the channel and network name whenever you connect to the server:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/channel add -auto <span class="comment">#general loy-slack</span></span><br></pre></td></tr></table></figure>
<hr>
<h1 id="8-–-Save-Configuration"><a href="#8-–-Save-Configuration" class="headerlink" title="8 – Save Configuration"></a>8 – Save Configuration</h1><p>Save all changes to the irssi configuration file in your user’s Linux home directory. </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/save</span><br></pre></td></tr></table></figure>
<p>Then quit the program:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/quit</span><br></pre></td></tr></table></figure>
<hr>
<h1 id="9-–-Run-irssi"><a href="#9-–-Run-irssi" class="headerlink" title="9 – Run irssi"></a>9 – Run irssi</h1><p>Once again run the program as down in the earlier step:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ irssi</span><br></pre></td></tr></table></figure>
<p>Or in a screen session:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ screen -S irssi-irc-client irssi</span><br></pre></td></tr></table></figure>
<p>The below output or similar appears upon launch of irssi:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">3:43 -!- Irssi: Looking up &lt;slack-teamname&gt;.irc.slack.com</span><br><span class="line">13:43 -!- Irssi: Connecting to &lt;slack-teamname&gt;.irc.slack.com [52.6.30.134] port 6667</span><br><span class="line">13:43 -!- Irssi: Connection to &lt;slack-teamname&gt;.irc.slack.com established</span><br><span class="line">13:43 slackbot [] requested CTCP VERSION from &lt;user-name&gt;: </span><br><span class="line">13:43 -!- IRC-SLACK gateway</span><br><span class="line">13:43 -!- Welcome to Slack IRC Gateway server &lt;user-name&gt;!~&lt;user-name&gt;@10.0.23.98</span><br><span class="line">13:43 -!- MAP SILENCE=15 WHOX WALLCHOPS WALLVOICES USERIP CPRIVMSG CNOTICE MODES=6 MAXCHANNELS=100 SAFELIST are supported by this server</span><br><span class="line">13:43 -!- NICKLEN=32 TOPICLEN=160 AWAYLEN=160 CHANTYPES=<span class="comment"># PREFIX=(ov)@+ CHANMODES=b,k,l,rimnpst CASEMAPPING=rfc1459 are supported by this server</span></span><br><span class="line">13:43 -!- there are 11 users </span><br><span class="line">13:43 -!- Message of the day</span><br><span class="line">13:43 -!- WELCOME TO SLACK...</span><br><span class="line">13:43 -!- End of MOTD <span class="built_in">command</span></span><br><span class="line">13:43 -!- Mode change [] <span class="keyword">for</span> user &lt;user-name&gt;:+i</span><br></pre></td></tr></table></figure>
<p>The persistent Slack connection is now setup and will be active each time you run irssi.</p>
<hr>
<p><strong>More Information</strong></p>
<ul>
<li><a href="http://www.pilgrimbreak.com/how-to-access-slack-with-command-line-irc-client-irssi/" target="_blank" rel="external">How to Access Slack with the Command Line</a> – Most of the images and content were gleaned from here. </li>
</ul>
<blockquote>
<p>Easily deploy an SSD cloud server on <a href="https://www.digitalocean.com/?refcode=e91058dbfc7b" target="_blank" rel="external">Digital Ocean</a> in 55 seconds. Sign up using my link and receive $10.00 in free credit: <a href="https://www.digitalocean.com/?refcode=e91058dbfc7b" target="_blank" rel="external">https://www.digitalocean.com/?refcode=e91058dbfc7b</a></p>
</blockquote>
<p>– Scarlz: <a href="https://twitter.com/5car1z" target="_blank" rel="external">@5car1z</a></p>
</div><footer class="post__foot u-cf"><ul class="post__tag u-fl"><li class="post__tag__item"><a href="/tags/irssi/" class="post__tag__link">irssi</a></li><li class="post__tag__item"><a href="/tags/IRC/" class="post__tag__link">IRC</a></li><li class="post__tag__item"><a href="/tags/Slack/" class="post__tag__link">Slack</a></li></ul><a href="/2015/09/10/slack-irssi-connection/#disqus_thread" class="post__foot-link u-fr">COMMENTS</a></footer></article><div class="comments"><div id="disqus_thread"><noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
</noscript></div></div></main><footer class="foot"><div class="foot-copy u-fl">&copy; 2018 Scarlz</div><menu class="page-menu u-fr"><li class="page-menu__item"><a title="Previous" href="/2015/09/26/git-version-control-two/" class="page-menu__link icon-arrow-left"></a></li><li class="page-menu__item"><a title="Next" href="/2015/08/18/notes-git-version-control/" class="page-menu__link icon-arrow-right"></a></li></menu></footer><script>(function(h,g,l,k,j,i){j=h.createElement(g),i=h.getElementsByTagName(g)[0],
j.src="//"+l+".disqus.com/"+k+".js",i.parentNode.insertBefore(j,i)})
(document,"script","totts","embed");
</script></body></html>